

## Remove Default Fallback Message from Celebration Card

### Problem
When downloading or sharing a cake card, if no message was generated or customized, the system shows a generic fallback: `"Happy celebration for ${name}!"`. The user wants the card to only display messages that were explicitly generated by the AI or added by the user.

---

### Solution
Modify the `createShareableImage` function and its calls to handle empty messages gracefully - either by not showing a message area at all, or by only rendering the message strip when there's actual content.

---

### Changes Required

#### File: `src/components/CakeCreator.tsx`

**1. Update `handleDownload` function (line 1099-1103)**

Remove the fallback message so only `displayedMessage` is passed:

```typescript
// Before
const compositeUrl = await createShareableImage(
  imageUrl,
  displayedMessage || `Happy celebration for ${name}!`,
  name
);

// After
const compositeUrl = await createShareableImage(
  imageUrl,
  displayedMessage || "",  // No fallback - empty string if no message
  name
);
```

**2. Update `handleShare` function (line 1158-1162)**

Same change - remove the fallback:

```typescript
// Before
const compositeUrl = await createShareableImage(
  imageUrl,
  displayedMessage || `Happy celebration for ${name}!`,
  name
);

// After
const compositeUrl = await createShareableImage(
  imageUrl,
  displayedMessage || "",  // No fallback - empty string if no message
  name
);
```

**3. Update `createShareableImage` function (lines 970-1078)**

Modify the function to skip rendering the message area entirely when the message is empty:

- Only calculate message height if message exists
- Skip drawing the pink message strip if message is empty
- Skip drawing message text if message is empty
- Canvas height should be just the cake image when no message

Key logic change:
```typescript
// Calculate message dimensions only if message exists
const hasMessage = message && message.trim().length > 0;
const lines = hasMessage ? wrapText(message, canvas.width - 80) : [];
const messageBoxHeight = hasMessage ? (lines.length * lineHeight) + (messagePadding * 2) : 0;

// Total height only includes message if present
const totalHeight = topPadding + drawHeight + (hasMessage ? gapAfterCake + messageBoxHeight : 0);
canvas.height = totalHeight;

// ... draw cake image ...

// Only draw message if present
if (hasMessage) {
  // Pink strip behind message
  ctx.fillStyle = '#fce7f3';
  ctx.fillRect(0, messageY, canvas.width, messageBoxHeight);
  
  // Message text
  ctx.fillStyle = '#333';
  ctx.font = 'bold 30px Arial, sans-serif';
  ctx.textAlign = 'center';
  
  const textStartY = messageY + messagePadding + lineHeight - 8;
  lines.forEach((line, i) => {
    ctx.fillText(line, canvas.width / 2, textStartY + (i * lineHeight));
  });
}
```

---

### Summary

| Location | Change |
|----------|--------|
| `handleDownload` (line 1101) | Remove `\|\| \`Happy celebration for ${name}!\`` fallback |
| `handleShare` (line 1160) | Remove `\|\| \`Happy celebration for ${name}!\`` fallback |
| `createShareableImage` (lines 1029-1064) | Conditionally skip message area when message is empty |

---

### Result
- If user has a generated or custom message: Card shows cake + message
- If user has no message: Card shows only the cake image (clean, no default text)

